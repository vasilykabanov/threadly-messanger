spring:
  application:
    name: threadly-chat
  servlet:
    multipart:
      # Лимит загрузки файла (должен быть не меньше threadly.image.max-size-bytes). По умолчанию Tomcat — 1MB.
      max-file-size: 10MB
      max-request-size: 10MB
  data:
    mongodb:
      database: ${MONGODB_CHAT_DATABASE}
      host: ${MONGODB_CHAT_HOST}
      port: ${MONGODB_CHAT_PORT}
      authentication-database: admin
server:
  port: 8080
security:
  jwt:
    header: Authorization
    prefix: "Bearer "
    secret: ${JWT_SECRET:}
threadly:
  storage:
    enabled: ${THREADLY_STORAGE_ENABLED}
    endpoint: ${THREADLY_STORAGE_ENDPOINT}
    presigned-endpoint: ${THREADLY_STORAGE_PRESIGNED_ENDPOINT}
    bucket: ${THREADLY_STORAGE_BUCKET}
    access-key: ${THREADLY_STORAGE_ACCESS_KEY}
    secret-key: ${THREADLY_STORAGE_SECRET_KEY}
    region: ${THREADLY_STORAGE_REGION}
    presigned-expiry-seconds: ${THREADLY_STORAGE_PRESIGNED_EXPIRY}
  image:
    max-size-bytes: ${THREADLY_IMAGE_MAX_SIZE}
  push:
    # Генерируются один раз (VAPID). Пример генерации:
    # node -e "const webpush=require('web-push');console.log(webpush.generateVAPIDKeys())"
    vapid:
      public-key: ${THREADLY_PUSH_VAPID_PUBLIC_KEY:}
      private-key: ${THREADLY_PUSH_VAPID_PRIVATE_KEY:}
      subject: ${THREADLY_PUSH_VAPID_SUBJECT:mailto:admin@threadly.local}